#a dot file which includes all our IT infrastructure
#unlike standard dot, we have some macros here
# %%XXX%%% means there is a file XXX.md with explanation. all items AND links should have one, so please create
# some keywords in uppercase, like TOOL, DATA, WEBSERVICE are defined in replacings.sed and contain formatting instructions
# all other dot thingees apply
# rendering is using plain dot

digraph G {
labelloc="t";
label="map of yak collective IT infrastructure (work in progress)";

#components

calandar WEBSITE[label="google\ncalandar"]%%calandar%%;
docs WEBSITE[label="google docs"]%%docs%%;
forms WEBSITE[label="registration\nform"]%%forms%%;
ifttt WEBSERVICE[label="IFTT"]%%ifttt%%;
carl WEBSERVICE[label="Carl"]%%carl%%;
discord WEBSITE[label="Discord"]%%discord%%;
dns WEBSERVICE[label="Namecheap"]%%dns%%;
roam WEBSITE[label="Roam"]%%roam%%;
substack USERSITE[label="Substack"]%%substack%%;
blogs USERSITE[label="member\nblogs"]%%blogs%%;
website WEBSITE[label="Yakcollective.org"]%%website%%
websites USERSITE[label="member\nwebsites"]%%websites%%;
twitter WEBSERVICE[label="Twitter"]%%twitter%%;
knack WEBSITE[label="Knack"]%%knack%%;
github WEBSERVICE[label="GitHub"]%%github%%;
netlify WEBSERVICE[label="Netlify"]%%netlify%%;
jekyll TOOL[label="Jekyll"]%%jekyll%%;
internet TOOL[label="Internet"]%%internet%%;

#things not connected by IT with rest of infrastructure and managed seperatly and not used by members
subgraph cluster_0 {
  labelloc="t";
  label="unconnected and manually managed\nnot by members";

  gmail WEBSERVICE[label="yakcollective.org\n@gmail.com"]%%gmail%%;
  facebook WEBSERVICE[label="Facebook"]%%facebook%%;
  linkedin WEBSERVICE[label="Linkedin"]%%linkedin%%;
}
#links
docs->website FUNCTION[label="host\nprojects"]%%hostproj%%; 
calandar->carl FUNCTION[label="calandar bot"]%%calbot%%;
carl->discord DATA[label="reminders"]%%reminders%%;
github->jekyll DATA[label="md files\nand others"]%%mdfiles%%;
jekyll->netlify DATA [label="Rendered\nwebsite"]%%rendered website%%;
netlify->Internet DATA[label="Deploy"]%%deploy%%;
ifttt
}
